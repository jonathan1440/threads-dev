# TASK SCHEMA
# A task is an atomic unit of work, executed by AI, verifiable by human
# Copy this template to .threads/goals/{goal-id}/plans/{plan-id}/tasks/{task-id}/task.yaml

id: null  # Format: t-{NNN}-{slug}
type: task
plan_id: null  # Parent plan reference
goal_id: null  # Grandparent goal reference
created: null
updated: null

# Task definition
title: null
description: |
  What this task will accomplish.
  Should be specific enough to verify completion.

# Why this task matters
why: |
  How this task contributes to the plan and goal.

# Concrete deliverables
deliverables: []
# - "User model class in src/models/User.ts"
# - "Database migration in migrations/001_create_users.sql"
# - "Unit tests in tests/models/User.test.ts"

# Acceptance criteria (how we know it's done)
acceptance_criteria: []
# - "User model has email, passwordHash, createdAt fields"
# - "Migration runs without errors"
# - "Migration is reversible"
# - "All unit tests pass"

# Files this task will touch
affected_files:
  create: []
  modify: []
  delete: []

# Dependencies
depends_on: []  # Task IDs this depends on
blocks: []      # Task IDs blocked by this

# Status
status: pending  # pending | in_progress | blocked | validating | completed | failed | skipped

progress:
  actions_total: 0
  actions_completed: 0
  current_action_id: null

# Blocker info (if status is blocked)
blocker:
  type: null  # dependency | human_input | external | technical
  description: null
  blocked_since: null
  resolution_path: null

# Confidence
confidence:
  pre_start: null       # Confidence before starting (0-1)
  current: null         # Current confidence (0-1)
  approach_clear: null  # Is implementation approach clear? (0-1)

# Uncertainties discovered during this task
uncertainties: []

# Validation
validation:
  automated:
    checks: []
    # - type: "test"
    #   command: "npm run test -- --grep 'User model'"
    #   status: null  # pending | passed | failed
    #   output: null

    # - type: "lint"
    #   command: "npm run lint src/models/User.ts"
    #   status: null
    #   output: null

    # - type: "typecheck"
    #   command: "npm run typecheck"
    #   status: null
    #   output: null

  human_required: false
  human_review_notes: null

# Actions taken under this task
actions: []

# Timing
timing:
  started: null
  completed: null
  estimated_minutes: null
  actual_minutes: null

# Checkpoint created before this task
checkpoint_before: null
checkpoint_after: null

# Context specific to this task
context:
  relevant_code: []
  decisions_made: []
  learnings: []
